\chapter{Введение}

\section{Синтаксический разбор как логический вывод}

Начала подхода заложены Ламбеком в работе \parencite{lambek1958mathematics}, термин введен в \parencite{pereira1983parsing}. В работе \parencite{konig1989parsing} рассматривается система натуральной дедукции для исчисления Ламбека без произведений. Также \parencite{moot2012logic}.

Задачи: алгоритм синтаксического анализа; изучение свойств формализма: разрешимость, вычислительная сложность, неоднозначность, корректность и полнота, существование нормальной формы и эффективной процедуры нормализации и пр.

Исчисление: формальный язык, множество аксиом (возможно, пустое), правила вывода, определение корректного вывода.

\section{Синтаксический разбор контекстно-свободных грамматик как вывод в системе гильбертовского типа}

Предложен в работе \parencite{pereira1983parsing}. В системе гильбертовского типа используется понятие линейного вывода.

Пример линейного вывода для логики высказываний.

Формальная система задается формальным языком, множеством аксиом, правилами вывода, определением вывода.

В системе гильбертовского типа 
множество аксиом непусто,
правило вывода одно -- \textit{modus ponenes}

\begin{prooftree}
  \AxiomC{$A$}
  \AxiomC{$A \to B$}
  \RightLabel{{\small \textit{modus ponens}}}
  \BinaryInfC{$B$}
\end{prooftree}

Понятие вывода -- линейный вывод.

$\Gamma$ -- произвольное конечное множество формул. Вывод из множества формул $\Gamma$ в исчислении $C$ -- это конечная последовательность формул $F_1, \dots, F_n$ такая, что $F_i$ -- либо аксиома, либо формула из $\Gamma$, либо является следствием каких-либо двух формул, предшествующих $F_i$ в этом списке, по правилу \textit{modus ponens}. Если последняя формула в списке -- $F$, то весь этот список называется \textit{выводом} $F$. Если вывод $F$ из $\Gamma$ существует, говорят, что $F$ \textit{выводима из} $\Gamma$ и пишут $\Gamma \vdash F$. Если $\Gamma = \varnothing$ и $F$ выводима, пишут $\vdash F$.

Пример: исчисление высказываний гильбертовского типа 

\begin{enumerate}
    \item формальный язык -- язык логики высказываний 
    \item аксиомы задаются следующими схемами
        \begin{itemize}
            \item[] $A_1: A \to (B \to A)$
            \item[] $A_2: (A \to (B \to C)) \to ((A \to B) \to (A \to C))$
            \item[] $A_3: (A \wedge B) \to A$
            \item[] $A_4: (A \wedge B) \to B$
            \item[] $A_5: A \to (B \to (A \wedge B))$
            \item[] $A_6: A \to (A \vee B)$
            \item[] $A_7: B \to (A \vee B)$
            \item[] $A_8: (A \to C) \to ((B \to C) \to ((A \vee B) \to C))$
            \item[] $A_9: (A \to B) \to ((A \to \neg B) \to \neg A)$
            \item[] $A_{10}: A \to (\neg A \to B)$
        \end{itemize}
    \item правило вывода -- \textit{modus ponens}
    \item линейный вывод
\end{enumerate}

Доказательство в исчислении гильбертовского типа мы будем изображать с помощью таблицы, в которой в первом столбце указываются номера строк для дальнейших ссылок, во втором столбце указывается выражение формального языка, включаемое в вывод, в третьем столбце указывается либо обозначение схемы аксиом, в соответствии с которой было получено выражение в данной строке, либо, если выражение получено по правилу modus ponens, указываются номера использованных для его получения выражений.

Пример: доказать $\vdash A \to A$

\[
\Jproof{
    \proofline{A \to ((A \to A) \to A)}{A_1}
    \proofline{A \to ((A \to A) \to A)) \to ((A \to (A \to A)) \to (A \to A))}{A_2}
    \proofline{(A \to (A \to A)) \to (A \to A)}{\textit{modus ponens} 1,2}
    \proofline{A \to (A \to A)}{A_1}
    \proofline{A \to A}{\textit{modus ponens} 3,4}
}
\]


Пример синтаксического разбора по \parencite{kallmeyer2010parsing}

Чтобы применить аналогичную технику к синтаксическому анализу выражений контекстно-свободных языков, потребуются некоторые уточнения. Наша цель -- формализовать процедуру синтаксического анализа с помощью алгоритма Кока-Янгера-Касами в виде линейного вывода. Данный алгоритм требует, чтобы контекстно-свободная грамматика была в нормальной форме Хомского, т.е. продукционные правила могут быть всего двух видов: $A \to BC$ и $A \to a$, где $A, B, C$ -- нетерминалы, $a$ -- терминал.
Формальный язык будет включать выражения вида $[A, \; i, \; j]$, где $A$ -- нетерминал, $i$ и $j$ -- индексы начала и конца подстроки в строке. 

Правила вывода:

\begin{itemize}
    \item[scan]
        \begin{prooftree}
          \AxiomC{ }
          \RightLabel{{\small $A \to w_i \in P$}}
          \UnaryInfC{$[A, i-1, i]$}
        \end{prooftree}
    \item[complete]
        \begin{prooftree}
          \AxiomC{$[B, i, j]$}
          \AxiomC{$[C, j, k]$}
          \RightLabel{{\small $A \to BC \in P$}}
          \BinaryInfC{$[A, i, k]$}
        \end{prooftree}
\end{itemize}

Выражение справа от черты здесь понимается как условие, которое должны быть выполнено, чтобы применение данного правила стало возможным. Точнее, для правила \textit{scan} условие состоит в том, что в грамматике имеется продукционное правило $A \to w_i$, где $w_i$ -- $i$-ая словоформа в анализируемой строке. Аналогично, условие для правила \textit{complete} -- в грамматике имеется продукционное правило $A \to BC$. 

Целью анализа является построение вывода (т.е. доказательство) терма $[S, \; 0, \; n]$, где $S$ -- начальный символ грамматики.

Пример анализа:
КС грамматика $G = \langle N, T, P, S \rangle$, где $N = \{S, NP, VP, PP, D, P, N, V\}$ -- множество нетерминалов, $T = \{man, Mary, saw, the\}$ -- множество терминалов (словоформ), $S$ -- начальный символ, множество продукционных правил $P$ содержит следующие правила:  
\begin{itemize}
    \item[] $S \to NP \; VP$
    \item[] $NP \to D \; N$
    \item[] $VP \to V \; NP$
    \item[] $N \to man$
    \item[] $NP \to Mary$
    \item[] $V \to saw$
    \item[] $D \to the$
\end{itemize}

Анализируемое предложение: \textit{Mary saw the man}.

Структурное описание:

\Tree [.S [.NP Mary ] [.VP [.V saw ] [.NP [.D the ] [.N man ] ] ] ]

Синтаксический разбор как дедукция в системе гильбертовского типа:

\[
\Jproof{
    \proofline{[NP, \; 0, \;1]}{scan (Mary)}
    \proofline{[V, \; 1, \; 2]}{scan (saw)}
    \proofline{[D, \; 2, \; 3]}{scan (the)}
    \proofline{[N, \; 3, \; 4]}{scan (man)}
    \proofline{[NP, \; 2, \; 4]}{complete 3,4}
    \proofline{[VP, \; 1, \; 4]}{complete 2,5}
    \proofline{[S, \; 0, \; 4]}{complete 1,6}
}
\]

Тот же разбор в традицонном виде (\textit{CYK chart}):

\begin{tabular}[t]{ccccc}
\cline{2-2}
\multicolumn{1}{c|}{3} & \multicolumn{1}{c|}{{[}S, 0, 4{]}}  &                                     &                                     &                                    \\ \cline{2-3}
\multicolumn{1}{c|}{2} & \multicolumn{1}{c|}{}               & \multicolumn{1}{c|}{{[}VP, 1, 4{]}} &                                     &                                    \\ \cline{2-4}
\multicolumn{1}{c|}{1} & \multicolumn{1}{c|}{}               & \multicolumn{1}{c|}{}               & \multicolumn{1}{c|}{{[}NP, 2, 4{]}} &                                    \\ \cline{2-5} 
\multicolumn{1}{c|}{0} & \multicolumn{1}{c|}{{[}NP, 0, 1{]}} & \multicolumn{1}{c|}{{[}V, 1, 2{]}}  & \multicolumn{1}{c|}{{[}D, 2, 3{]}}  & \multicolumn{1}{c|}{{[}N, 3, 4{]}} \\ \cline{2-5} 
                       & Mary                                & saw                                 & the                                 & man                               
\end{tabular}


\section{Исчисление Ламбека как секвенциальная система}

Предложена в работе \parencite{lambek1958mathematics}, см. тж. \parencite{moot2012logic}.

Секвенция -- основной элемент вывода в исчислении секвенций -- это формальное выражение вида $A_1, \dots, A_n \vdash B_1, \dots, B_m$, где $A_i$ и $B_j$ -- выражения формального языка (напр., языка логики высказываний). Последовательность слева от знака $\vdash$ (``штопора'') называется \textit{антецедентом}, последовательность справа -- \textit{сукцедентом}. Последовательность символов $A, B$ и т.~д. может сокращенно обозначаться символом $\Gamma$ или $\Delta$, возможно, с индексом. Вывод в исчислении секвенций представляет собой дерево, в котором над и под горизонтальной чертой записываются различные секвенции, справа от черты указывается примененное правило. Чтобы такое дерево представляло собой корректный вывод, позиции листьев в дереве должны занимать секвенции вида $A \vdash A$, т.~н. \textit{основные секвенции}. Правила вывода в секвенциальном исчислении Ламбека следующие:

\begin{prooftree}
  \AxiomC{$\Gamma, B, \Gamma' \vdash C$}
  \AxiomC{$\Delta \vdash A$}
  \RightLabel{{\small $\textbackslash_h$}}
  \BinaryInfC{$\Gamma, A, A \textbackslash B, \Gamma' \vdash C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$A, \Gamma \vdash C$}
  \RightLabel{{\small $\textbackslash_i, \Gamma \neq \epsilon$}}
  \UnaryInfC{$\Gamma \vdash A \textbackslash C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$\Gamma, B, \Gamma' \vdash C$}
  \AxiomC{$\Delta \vdash A$}
  \RightLabel{{\small $/_h$}}
  \BinaryInfC{$\Gamma, B/A, \Delta, \Gamma' \vdash C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$\Gamma, A \vdash C$}
  \RightLabel{{\small $/_i, \Gamma \neq \epsilon$}}
  \UnaryInfC{$\Gamma \vdash C/A$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$\Gamma, A, B, \Gamma' \vdash C$}
  \RightLabel{{\small $\bullet_h$}}
  \UnaryInfC{$\Gamma, A \bullet B, \Gamma' \vdash C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$\Delta \vdash A$}
  \AxiomC{$\Gamma \vdash B$}
  \RightLabel{{\small $\bullet_i$}}
  \BinaryInfC{$\Delta, \Gamma \vdash A \bullet B$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$\Gamma \vdash A$}
  \AxiomC{$\Delta_1, A, \Delta_2 \vdash B$}
  \RightLabel{{\small \textit{сечение}}}
  \BinaryInfC{$\Delta_1, \Gamma, \Delta_2 \vdash B$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{}
  \RightLabel{{\small \textit{аксиома}}}
  \UnaryInfC{$A \vdash A$}
\end{prooftree}

Замечание: \parencite{moot2012logic} пишут $B \textbackslash A$ там, где (Steedman et al.) пишут $A \textbackslash B$.

Неформально, символы $A, B, C, \Gamma, \Delta$ представляют собой синтаксические категории, приписанные различным подстрокам анализируемой строки. Цель построения вывода -- показать, каким образом на основе информации о принадлежности отдельных словоформ тем или иным синтаксическим категориям, содержащейся в словаре, возможно приписать синтаксическую категорию строке, составленной из этих словоформ.

Пример вывода: предложение \textit{John loves Mary}, лексикон: $John \vdash np$, $Mary \vdash np$, $loves \vdash (np \textbackslash s)/np$, требуется построить вывод для секвенции $np, \, (np \textbackslash s)/np, \, np \vdash s$.

\begin{prooftree}
  \AxiomC{$s \vdash s$}
  \AxiomC{$np \vdash np$}
  \RightLabel{{\small $\textbackslash_h$}}
      \BinaryInfC{$np, \, np \textbackslash s \vdash s$}
      \AxiomC{$np \vdash np$}
      \RightLabel{{\small $/_h$}}      
      \BinaryInfC{$np, \, (np \textbackslash s)/np, \, np \vdash s$}
\end{prooftree}


\section{Исчисление Ламбека как система натурального вывода}

Строгая нормализация и пр. Алгоритм поиска доказательств для исчисления Ламбека без произведений в системе натурального вывода в стиле Генцена.

\section{Расширения исчисления Ламбека}

Субструктурные логики. Неассоциативное исчисление Ламбека как фрагмент линейной логики Жирара. Сети доказательств. Интерактивный поиск доказательств в системе \textit{Grail 3}.